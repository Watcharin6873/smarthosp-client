import{c as fr}from"./classnames-BK5ccKcQ.js";import{r as s}from"./react-DtcBd6oJ.js";import{c as Xr,b as p,d as mt,u as ht,r as _n,s as pr,e as rt,f as gt,h as yt,i as bt,j as Be,k as Fn,l as wt,g as qn,m as St,n as Nt,o as Ct}from"./rc-util-DhJyx-BV.js";import{i as nt,j as tt,g as Fr,f as qr,c as In,b as q,a as Fe,d as T,h as Ae,_ as G,k as Hn,m as Et,e as Er}from"./@babel-CNPOxmrp.js";import{F as at}from"./@ant-design-Buap8svl.js";import{r as it}from"./react-dom-BUWP3hwu.js";import{R as ut}from"./rc-resize-observer-DcjZBGzh.js";import{C as ot}from"./rc-motion-DKWxMSiS.js";var Mt=["b"],Pt=["v"],Pn=function(e){return Math.round(Number(e||0))},xt=function(e){if(e instanceof at)return e;if(e&&Fe(e)==="object"&&"h"in e&&"b"in e){var r=e,t=r.b,a=In(r,Mt);return q(q({},a),{},{v:t})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},jn=function(n){nt(r,n);var e=tt(r);function r(t){return Fr(this,r),e.call(this,xt(t))}return qr(r,[{key:"toHsbString",value:function(){var a=this.toHsb(),i=Pn(a.s*100),u=Pn(a.b*100),o=Pn(a.h),d=a.a,v="hsb(".concat(o,", ").concat(i,"%, ").concat(u,"%)"),m="hsba(".concat(o,", ").concat(i,"%, ").concat(u,"%, ").concat(d.toFixed(d===0?0:2),")");return d===1?v:m}},{key:"toHsb",value:function(){var a=this.toHsv(),i=a.v,u=In(a,Pt);return q(q({},u),{},{b:i,a:this.a})}}]),r}(at),Ft=function(e){return e instanceof jn?e:new jn(e)};Ft("#1677ff");var st=s.createContext(null),Vn=[];function qt(n,e){var r=s.useState(function(){if(!Xr())return null;var c=document.createElement("div");return c}),t=T(r,1),a=t[0],i=s.useRef(!1),u=s.useContext(st),o=s.useState(Vn),d=T(o,2),v=d[0],m=d[1],l=u||(i.current?void 0:function(c){m(function(S){var f=[c].concat(Ae(S));return f})});function y(){a.parentElement||document.body.appendChild(a),i.current=!0}function h(){var c;(c=a.parentElement)===null||c===void 0||c.removeChild(a),i.current=!1}return p(function(){return n?u?u(y):y():h(),h},[n]),p(function(){v.length&&(v.forEach(function(c){return c()}),m(Vn))},[v]),[a,l]}function Dt(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var kt="rc-util-locker-".concat(Date.now()),Wn=0;function Rt(n){var e=!!n,r=s.useState(function(){return Wn+=1,"".concat(kt,"_").concat(Wn)}),t=T(r,1),a=t[0];p(function(){if(e){var i=mt(document.body).width,u=Dt();ht(`
html body {
  overflow-y: hidden;
  `.concat(u?"width: calc(100% - ".concat(i,"px);"):"",`
}`),a)}else _n(a);return function(){_n(a)}},[e,a])}var At=!1;function Tt(n){return At}var Bn=function(e){return e===!1?!1:!Xr()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},ft=s.forwardRef(function(n,e){var r=n.open,t=n.autoLock,a=n.getContainer;n.debug;var i=n.autoDestroy,u=i===void 0?!0:i,o=n.children,d=s.useState(r),v=T(d,2),m=v[0],l=v[1],y=m||r;s.useEffect(function(){(u||r)&&l(r)},[r,u]);var h=s.useState(function(){return Bn(a)}),c=T(h,2),S=c[0],f=c[1];s.useEffect(function(){var Y=Bn(a);f(Y??null)});var E=qt(y&&!S),N=T(E,2),C=N[0],x=N[1],P=S??C;Rt(t&&r&&Xr()&&(P===C||P===document.body));var b=null;if(o&&pr(o)&&e){var I=o;b=I.ref}var B=rt(b,e);if(!y||!Xr()||S===void 0)return null;var _=P===!1||Tt(),z=o;return e&&(z=s.cloneElement(o,{ref:B})),s.createElement(st.Provider,{value:x},_?z:it.createPortal(z,P))});function Dn(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var kn=Dn(),It=/%[sdj%]/g,$t=function(){};function Rn(n){if(!n||!n.length)return null;var e={};return n.forEach(function(r){var t=r.field;e[t]=e[t]||[],e[t].push(r)}),e}function ie(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),t=1;t<e;t++)r[t-1]=arguments[t];var a=0,i=r.length;if(typeof n=="function")return n.apply(null,r);if(typeof n=="string"){var u=n.replace(It,function(o){if(o==="%%")return"%";if(a>=i)return o;switch(o){case"%s":return String(r[a++]);case"%d":return Number(r[a++]);case"%j":try{return JSON.stringify(r[a++])}catch{return"[Circular]"}break;default:return o}});return u}return n}function Lt(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function W(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||Lt(e)&&typeof n=="string"&&!n)}function _t(n,e,r){var t=[],a=0,i=n.length;function u(o){t.push.apply(t,Ae(o||[])),a++,a===i&&r(t)}n.forEach(function(o){e(o,u)})}function zn(n,e,r){var t=0,a=n.length;function i(u){if(u&&u.length){r(u);return}var o=t;t=t+1,o<a?e(n[o],i):r([])}i([])}function Ht(n){var e=[];return Object.keys(n).forEach(function(r){e.push.apply(e,Ae(n[r]||[]))}),e}var Gn=function(n){nt(r,n);var e=tt(r);function r(t,a){var i;return Fr(this,r),i=e.call(this,"Async Validation Error"),G(Hn(i),"errors",void 0),G(Hn(i),"fields",void 0),i.errors=t,i.fields=a,i}return qr(r)}(Et(Error));function jt(n,e,r,t,a){if(e.first){var i=new Promise(function(y,h){var c=function(E){return t(E),E.length?h(new Gn(E,Rn(E))):y(a)},S=Ht(n);zn(S,r,c)});return i.catch(function(y){return y}),i}var u=e.firstFields===!0?Object.keys(n):e.firstFields||[],o=Object.keys(n),d=o.length,v=0,m=[],l=new Promise(function(y,h){var c=function(f){if(m.push.apply(m,f),v++,v===d)return t(m),m.length?h(new Gn(m,Rn(m))):y(a)};o.length||(t(m),y(a)),o.forEach(function(S){var f=n[S];u.indexOf(S)!==-1?zn(f,r,c):_t(f,r,c)})});return l.catch(function(y){return y}),l}function Vt(n){return!!(n&&n.message!==void 0)}function Wt(n,e){for(var r=n,t=0;t<e.length;t++){if(r==null)return r;r=r[e[t]]}return r}function Un(n,e){return function(r){var t;return n.fullFields?t=Wt(e,n.fullFields):t=e[r.field||n.fullField],Vt(r)?(r.field=r.field||n.fullField,r.fieldValue=t,r):{message:typeof r=="function"?r():r,fieldValue:t,field:r.field||n.fullField}}}function Jn(n,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var t=e[r];Fe(t)==="object"&&Fe(n[r])==="object"?n[r]=q(q({},n[r]),t):n[r]=t}}return n}var or="enum",Bt=function(e,r,t,a,i){e[or]=Array.isArray(e[or])?e[or]:[],e[or].indexOf(r)===-1&&a.push(ie(i.messages[or],e.fullField,e[or].join(", ")))},zt=function(e,r,t,a,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||a.push(ie(i.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var u=new RegExp(e.pattern);u.test(r)||a.push(ie(i.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},Gt=function(e,r,t,a,i){var u=typeof e.len=="number",o=typeof e.min=="number",d=typeof e.max=="number",v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=r,l=null,y=typeof r=="number",h=typeof r=="string",c=Array.isArray(r);if(y?l="number":h?l="string":c&&(l="array"),!l)return!1;c&&(m=r.length),h&&(m=r.replace(v,"_").length),u?m!==e.len&&a.push(ie(i.messages[l].len,e.fullField,e.len)):o&&!d&&m<e.min?a.push(ie(i.messages[l].min,e.fullField,e.min)):d&&!o&&m>e.max?a.push(ie(i.messages[l].max,e.fullField,e.max)):o&&d&&(m<e.min||m>e.max)&&a.push(ie(i.messages[l].range,e.fullField,e.min,e.max))},ct=function(e,r,t,a,i,u){e.required&&(!t.hasOwnProperty(e.field)||W(r,u||e.type))&&a.push(ie(i.messages.required,e.fullField))},Or;const Ut=function(){if(Or)return Or;var n="[a-fA-F\\d:]",e=function(b){return b&&b.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",t="[a-fA-F\\d]{1,4}",a=["(?:".concat(t,":){7}(?:").concat(t,"|:)"),"(?:".concat(t,":){6}(?:").concat(r,"|:").concat(t,"|:)"),"(?:".concat(t,":){5}(?::").concat(r,"|(?::").concat(t,"){1,2}|:)"),"(?:".concat(t,":){4}(?:(?::").concat(t,"){0,1}:").concat(r,"|(?::").concat(t,"){1,3}|:)"),"(?:".concat(t,":){3}(?:(?::").concat(t,"){0,2}:").concat(r,"|(?::").concat(t,"){1,4}|:)"),"(?:".concat(t,":){2}(?:(?::").concat(t,"){0,3}:").concat(r,"|(?::").concat(t,"){1,5}|:)"),"(?:".concat(t,":){1}(?:(?::").concat(t,"){0,4}:").concat(r,"|(?::").concat(t,"){1,6}|:)"),"(?::(?:(?::".concat(t,"){0,5}:").concat(r,"|(?::").concat(t,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",u="(?:".concat(a.join("|"),")").concat(i),o=new RegExp("(?:^".concat(r,"$)|(?:^").concat(u,"$)")),d=new RegExp("^".concat(r,"$")),v=new RegExp("^".concat(u,"$")),m=function(b){return b&&b.exact?o:new RegExp("(?:".concat(e(b)).concat(r).concat(e(b),")|(?:").concat(e(b)).concat(u).concat(e(b),")"),"g")};m.v4=function(P){return P&&P.exact?d:new RegExp("".concat(e(P)).concat(r).concat(e(P)),"g")},m.v6=function(P){return P&&P.exact?v:new RegExp("".concat(e(P)).concat(u).concat(e(P)),"g")};var l="(?:(?:[a-z]+:)?//)",y="(?:\\S+(?::\\S*)?@)?",h=m.v4().source,c=m.v6().source,S="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",f="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",E="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",N="(?::\\d{2,5})?",C='(?:[/?#][^\\s"]*)?',x="(?:".concat(l,"|www\\.)").concat(y,"(?:localhost|").concat(h,"|").concat(c,"|").concat(S).concat(f).concat(E,")").concat(N).concat(C);return Or=new RegExp("(?:^".concat(x,"$)"),"i"),Or};var Qn={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Nr={integer:function(e){return Nr.number(e)&&parseInt(e,10)===e},float:function(e){return Nr.number(e)&&!Nr.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return Fe(e)==="object"&&!Nr.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Qn.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Ut())},hex:function(e){return typeof e=="string"&&!!e.match(Qn.hex)}},Jt=function(e,r,t,a,i){if(e.required&&r===void 0){ct(e,r,t,a,i);return}var u=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;u.indexOf(o)>-1?Nr[o](r)||a.push(ie(i.messages.types[o],e.fullField,e.type)):o&&Fe(r)!==e.type&&a.push(ie(i.messages.types[o],e.fullField,e.type))},Qt=function(e,r,t,a,i){(/^\s+$/.test(r)||r==="")&&a.push(ie(i.messages.whitespace,e.fullField))};const M={required:ct,whitespace:Qt,type:Jt,range:Gt,enum:Bt,pattern:zt};var Zt=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(W(r)&&!e.required)return t();M.required(e,r,a,u,i)}t(u)},Kt=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(r==null&&!e.required)return t();M.required(e,r,a,u,i,"array"),r!=null&&(M.type(e,r,a,u,i),M.range(e,r,a,u,i))}t(u)},Ot=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(W(r)&&!e.required)return t();M.required(e,r,a,u,i),r!==void 0&&M.type(e,r,a,u,i)}t(u)},Xt=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(W(r,"date")&&!e.required)return t();if(M.required(e,r,a,u,i),!W(r,"date")){var d;r instanceof Date?d=r:d=new Date(r),M.type(e,d,a,u,i),d&&M.range(e,d.getTime(),a,u,i)}}t(u)},pt="enum",Yt=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(W(r)&&!e.required)return t();M.required(e,r,a,u,i),r!==void 0&&M[pt](e,r,a,u,i)}t(u)},ea=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(W(r)&&!e.required)return t();M.required(e,r,a,u,i),r!==void 0&&(M.type(e,r,a,u,i),M.range(e,r,a,u,i))}t(u)},ra=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(W(r)&&!e.required)return t();M.required(e,r,a,u,i),r!==void 0&&(M.type(e,r,a,u,i),M.range(e,r,a,u,i))}t(u)},na=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(W(r)&&!e.required)return t();M.required(e,r,a,u,i),r!==void 0&&M.type(e,r,a,u,i)}t(u)},ta=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(r===""&&(r=void 0),W(r)&&!e.required)return t();M.required(e,r,a,u,i),r!==void 0&&(M.type(e,r,a,u,i),M.range(e,r,a,u,i))}t(u)},aa=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(W(r)&&!e.required)return t();M.required(e,r,a,u,i),r!==void 0&&M.type(e,r,a,u,i)}t(u)},ia=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(W(r,"string")&&!e.required)return t();M.required(e,r,a,u,i),W(r,"string")||M.pattern(e,r,a,u,i)}t(u)},ua=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(W(r)&&!e.required)return t();M.required(e,r,a,u,i),W(r)||M.type(e,r,a,u,i)}t(u)},oa=function(e,r,t,a,i){var u=[],o=Array.isArray(r)?"array":Fe(r);M.required(e,r,a,u,i,o),t(u)},sa=function(e,r,t,a,i){var u=[],o=e.required||!e.required&&a.hasOwnProperty(e.field);if(o){if(W(r,"string")&&!e.required)return t();M.required(e,r,a,u,i,"string"),W(r,"string")||(M.type(e,r,a,u,i),M.range(e,r,a,u,i),M.pattern(e,r,a,u,i),e.whitespace===!0&&M.whitespace(e,r,a,u,i))}t(u)},xn=function(e,r,t,a,i){var u=e.type,o=[],d=e.required||!e.required&&a.hasOwnProperty(e.field);if(d){if(W(r,u)&&!e.required)return t();M.required(e,r,a,o,i,u),W(r,u)||M.type(e,r,a,o,i)}t(o)};const Mr={string:sa,method:na,number:ta,boolean:Ot,regexp:ua,integer:ra,float:ea,array:Kt,object:aa,enum:Yt,pattern:ia,date:Xt,url:xn,hex:xn,email:xn,required:oa,any:Zt};var Yr=function(){function n(e){Fr(this,n),G(this,"rules",null),G(this,"_messages",kn),this.define(e)}return qr(n,[{key:"define",value:function(r){var t=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(Fe(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var i=r[a];t.rules[a]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(r){return r&&(this._messages=Jn(Dn(),r)),this._messages}},{key:"validate",value:function(r){var t=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},u=r,o=a,d=i;if(typeof o=="function"&&(d=o,o={}),!this.rules||Object.keys(this.rules).length===0)return d&&d(null,u),Promise.resolve(u);function v(c){var S=[],f={};function E(C){if(Array.isArray(C)){var x;S=(x=S).concat.apply(x,Ae(C))}else S.push(C)}for(var N=0;N<c.length;N++)E(c[N]);S.length?(f=Rn(S),d(S,f)):d(null,u)}if(o.messages){var m=this.messages();m===kn&&(m=Dn()),Jn(m,o.messages),o.messages=m}else o.messages=this.messages();var l={},y=o.keys||Object.keys(this.rules);y.forEach(function(c){var S=t.rules[c],f=u[c];S.forEach(function(E){var N=E;typeof N.transform=="function"&&(u===r&&(u=q({},u)),f=u[c]=N.transform(f),f!=null&&(N.type=N.type||(Array.isArray(f)?"array":Fe(f)))),typeof N=="function"?N={validator:N}:N=q({},N),N.validator=t.getValidationMethod(N),N.validator&&(N.field=c,N.fullField=N.fullField||c,N.type=t.getType(N),l[c]=l[c]||[],l[c].push({rule:N,value:f,source:u,field:c}))})});var h={};return jt(l,o,function(c,S){var f=c.rule,E=(f.type==="object"||f.type==="array")&&(Fe(f.fields)==="object"||Fe(f.defaultField)==="object");E=E&&(f.required||!f.required&&c.value),f.field=c.field;function N(I,B){return q(q({},B),{},{fullField:"".concat(f.fullField,".").concat(I),fullFields:f.fullFields?[].concat(Ae(f.fullFields),[I]):[I]})}function C(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=Array.isArray(I)?I:[I];!o.suppressWarning&&B.length&&n.warning("async-validator:",B),B.length&&f.message!==void 0&&(B=[].concat(f.message));var _=B.map(Un(f,u));if(o.first&&_.length)return h[f.field]=1,S(_);if(!E)S(_);else{if(f.required&&!c.value)return f.message!==void 0?_=[].concat(f.message).map(Un(f,u)):o.error&&(_=[o.error(f,ie(o.messages.required,f.field))]),S(_);var z={};f.defaultField&&Object.keys(c.value).map(function(j){z[j]=f.defaultField}),z=q(q({},z),c.rule.fields);var Y={};Object.keys(z).forEach(function(j){var H=z[j],ve=Array.isArray(H)?H:[H];Y[j]=ve.map(N.bind(null,j))});var ue=new n(Y);ue.messages(o.messages),c.rule.options&&(c.rule.options.messages=o.messages,c.rule.options.error=o.error),ue.validate(c.value,c.rule.options||o,function(j){var H=[];_&&_.length&&H.push.apply(H,Ae(_)),j&&j.length&&H.push.apply(H,Ae(j)),S(H.length?H:null)})}}var x;if(f.asyncValidator)x=f.asyncValidator(f,c.value,C,c.source,o);else if(f.validator){try{x=f.validator(f,c.value,C,c.source,o)}catch(I){var P,b;(P=(b=console).error)===null||P===void 0||P.call(b,I),o.suppressValidatorError||setTimeout(function(){throw I},0),C(I.message)}x===!0?C():x===!1?C(typeof f.message=="function"?f.message(f.fullField||f.field):f.message||"".concat(f.fullField||f.field," fails")):x instanceof Array?C(x):x instanceof Error&&C(x.message)}x&&x.then&&x.then(function(){return C()},function(I){return C(I)})},function(c){v(c)},u)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Mr.hasOwnProperty(r.type))throw new Error(ie("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var t=Object.keys(r),a=t.indexOf("message");return a!==-1&&t.splice(a,1),t.length===1&&t[0]==="required"?Mr.required:Mr[this.getType(r)]||void 0}}]),n}();G(Yr,"register",function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Mr[e]=r});G(Yr,"warning",$t);G(Yr,"messages",kn);G(Yr,"validators",Mr);function fa(n){var e=n.prefixCls,r=n.align,t=n.arrow,a=n.arrowPos,i=t||{},u=i.className,o=i.content,d=a.x,v=d===void 0?0:d,m=a.y,l=m===void 0?0:m,y=s.useRef();if(!r||!r.points)return null;var h={position:"absolute"};if(r.autoArrow!==!1){var c=r.points[0],S=r.points[1],f=c[0],E=c[1],N=S[0],C=S[1];f===N||!["t","b"].includes(f)?h.top=l:f==="t"?h.top=0:h.bottom=0,E===C||!["l","r"].includes(E)?h.left=v:E==="l"?h.left=0:h.right=0}return s.createElement("div",{ref:y,className:fr("".concat(e,"-arrow"),u),style:h},o)}function ca(n){var e=n.prefixCls,r=n.open,t=n.zIndex,a=n.mask,i=n.motion;return a?s.createElement(ot,Er({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(u){var o=u.className;return s.createElement("div",{style:{zIndex:t},className:fr("".concat(e,"-mask"),o)})}):null}var la=s.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),da=s.forwardRef(function(n,e){var r=n.popup,t=n.className,a=n.prefixCls,i=n.style,u=n.target,o=n.onVisibleChanged,d=n.open,v=n.keepDom,m=n.fresh,l=n.onClick,y=n.mask,h=n.arrow,c=n.arrowPos,S=n.align,f=n.motion,E=n.maskMotion,N=n.forceRender,C=n.getPopupContainer,x=n.autoDestroy,P=n.portal,b=n.zIndex,I=n.onMouseEnter,B=n.onMouseLeave,_=n.onPointerEnter,z=n.onPointerDownCapture,Y=n.ready,ue=n.offsetX,j=n.offsetY,H=n.offsetR,ve=n.offsetB,re=n.onAlign,qe=n.onPrepare,J=n.stretch,Z=n.targetWidth,F=n.targetHeight,ze=typeof r=="function"?r():r,me=d||v,Q=(C==null?void 0:C.length)>0,D=s.useState(!C||!Q),ne=T(D,2),Ge=ne[0],cr=ne[1];if(p(function(){!Ge&&Q&&u&&cr(!0)},[Ge,Q,u]),!Ge)return null;var Se="auto",te={left:"-1000vw",top:"-1000vh",right:Se,bottom:Se};if(Y||!d){var Te,Ue=S.points,oe=S.dynamicInset||((Te=S._experimental)===null||Te===void 0?void 0:Te.dynamicInset),Ne=oe&&Ue[0][1]==="r",he=oe&&Ue[0][0]==="b";Ne?(te.right=H,te.left=Se):(te.left=ue,te.right=Se),he?(te.bottom=ve,te.top=Se):(te.top=j,te.bottom=Se)}var ee={};return J&&(J.includes("height")&&F?ee.height=F:J.includes("minHeight")&&F&&(ee.minHeight=F),J.includes("width")&&Z?ee.width=Z:J.includes("minWidth")&&Z&&(ee.minWidth=Z)),d||(ee.pointerEvents="none"),s.createElement(P,{open:N||me,getContainer:C&&function(){return C(u)},autoDestroy:x},s.createElement(ca,{prefixCls:a,open:d,zIndex:b,mask:y,motion:E}),s.createElement(ut,{onResize:re,disabled:!d},function(lr){return s.createElement(ot,Er({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:N,leavedClassName:"".concat(a,"-hidden")},f,{onAppearPrepare:qe,onEnterPrepare:qe,visible:d,onVisibleChanged:function(se){var Ce;f==null||(Ce=f.onVisibleChanged)===null||Ce===void 0||Ce.call(f,se),o(se)}}),function(Ie,se){var Ce=Ie.className,Je=Ie.style,K=fr(a,Ce,t);return s.createElement("div",{ref:gt(lr,e,se),className:K,style:q(q(q(q({"--arrow-x":"".concat(c.x||0,"px"),"--arrow-y":"".concat(c.y||0,"px")},te),ee),Je),{},{boxSizing:"border-box",zIndex:b},i),onMouseEnter:I,onMouseLeave:B,onPointerEnter:_,onClick:l,onPointerDownCapture:z},h&&s.createElement(fa,{prefixCls:a,arrow:h,arrowPos:c,align:S}),s.createElement(la,{cache:!d&&!m},ze))})}))}),va=s.forwardRef(function(n,e){var r=n.children,t=n.getTriggerDOMNode,a=pr(r),i=s.useCallback(function(o){yt(e,t?t(o):o)},[t]),u=rt(i,bt(r));return a?s.cloneElement(r,{ref:u}):r}),Zn=s.createContext(null);function Kn(n){return n?Array.isArray(n)?n:[n]:[]}function ma(n,e,r,t){return s.useMemo(function(){var a=Kn(r??e),i=Kn(t??e),u=new Set(a),o=new Set(i);return n&&(u.has("hover")&&(u.delete("hover"),u.add("click")),o.has("hover")&&(o.delete("hover"),o.add("click"))),[u,o]},[n,e,r,t])}function ha(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function ga(n,e,r,t){for(var a=r.points,i=Object.keys(n),u=0;u<i.length;u+=1){var o,d=i[u];if(ha((o=n[d])===null||o===void 0?void 0:o.points,a,t))return"".concat(e,"-placement-").concat(d)}return""}function On(n,e,r,t){return e||(r?{motionName:"".concat(n,"-").concat(r)}:t?{motionName:t}:null)}function Dr(n){return n.ownerDocument.defaultView}function An(n){for(var e=[],r=n==null?void 0:n.parentElement,t=["hidden","scroll","clip","auto"];r;){var a=Dr(r).getComputedStyle(r),i=a.overflowX,u=a.overflowY,o=a.overflow;[i,u,o].some(function(d){return t.includes(d)})&&e.push(r),r=r.parentElement}return e}function xr(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function Sr(n){return xr(parseFloat(n),0)}function Xn(n,e){var r=q({},n);return(e||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var a=Dr(t).getComputedStyle(t),i=a.overflow,u=a.overflowClipMargin,o=a.borderTopWidth,d=a.borderBottomWidth,v=a.borderLeftWidth,m=a.borderRightWidth,l=t.getBoundingClientRect(),y=t.offsetHeight,h=t.clientHeight,c=t.offsetWidth,S=t.clientWidth,f=Sr(o),E=Sr(d),N=Sr(v),C=Sr(m),x=xr(Math.round(l.width/c*1e3)/1e3),P=xr(Math.round(l.height/y*1e3)/1e3),b=(c-S-N-C)*x,I=(y-h-f-E)*P,B=f*P,_=E*P,z=N*x,Y=C*x,ue=0,j=0;if(i==="clip"){var H=Sr(u);ue=H*x,j=H*P}var ve=l.x+z-ue,re=l.y+B-j,qe=ve+l.width+2*ue-z-Y-b,J=re+l.height+2*j-B-_-I;r.left=Math.max(r.left,ve),r.top=Math.max(r.top,re),r.right=Math.min(r.right,qe),r.bottom=Math.min(r.bottom,J)}}),r}function pn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(e),t=r.match(/^(.*)\%$/);return t?n*(parseFloat(t[1])/100):parseFloat(r)}function Yn(n,e){var r=e||[],t=T(r,2),a=t[0],i=t[1];return[pn(n.width,a),pn(n.height,i)]}function et(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function sr(n,e){var r=e[0],t=e[1],a,i;return r==="t"?i=n.y:r==="b"?i=n.y+n.height:i=n.y+n.height/2,t==="l"?a=n.x:t==="r"?a=n.x+n.width:a=n.x+n.width/2,{x:a,y:i}}function We(n,e){var r={t:"b",b:"t",l:"r",r:"l"};return n.map(function(t,a){return a===e?r[t]||"c":t}).join("")}function ya(n,e,r,t,a,i,u){var o=s.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[t]||{}}),d=T(o,2),v=d[0],m=d[1],l=s.useRef(0),y=s.useMemo(function(){return e?An(e):[]},[e]),h=s.useRef({}),c=function(){h.current={}};n||c();var S=Be(function(){if(e&&r&&n){let de=function(ur,je){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kr,wr=D.x+ur,Qr=D.y+je,Nn=wr+Ne,Cn=Qr+oe,En=Math.max(wr,Ve.left),g=Math.max(Qr,Ve.top),w=Math.min(Nn,Ve.right),$=Math.min(Cn,Ve.bottom);return Math.max(0,(w-En)*($-g))},Jr=function(){Oe=D.y+A,Xe=Oe+oe,ke=D.x+k,nr=ke+Ne};var N,C,x,P,b=e,I=b.ownerDocument,B=Dr(b),_=B.getComputedStyle(b),z=_.width,Y=_.height,ue=_.position,j=b.style.left,H=b.style.top,ve=b.style.right,re=b.style.bottom,qe=b.style.overflow,J=q(q({},a[t]),i),Z=I.createElement("div");(N=b.parentElement)===null||N===void 0||N.appendChild(Z),Z.style.left="".concat(b.offsetLeft,"px"),Z.style.top="".concat(b.offsetTop,"px"),Z.style.position=ue,Z.style.height="".concat(b.offsetHeight,"px"),Z.style.width="".concat(b.offsetWidth,"px"),b.style.left="0",b.style.top="0",b.style.right="auto",b.style.bottom="auto",b.style.overflow="hidden";var F;if(Array.isArray(r))F={x:r[0],y:r[1],width:0,height:0};else{var ze,me,Q=r.getBoundingClientRect();Q.x=(ze=Q.x)!==null&&ze!==void 0?ze:Q.left,Q.y=(me=Q.y)!==null&&me!==void 0?me:Q.top,F={x:Q.x,y:Q.y,width:Q.width,height:Q.height}}var D=b.getBoundingClientRect();D.x=(C=D.x)!==null&&C!==void 0?C:D.left,D.y=(x=D.y)!==null&&x!==void 0?x:D.top;var ne=I.documentElement,Ge=ne.clientWidth,cr=ne.clientHeight,Se=ne.scrollWidth,te=ne.scrollHeight,Te=ne.scrollTop,Ue=ne.scrollLeft,oe=D.height,Ne=D.width,he=F.height,ee=F.width,lr={left:0,top:0,right:Ge,bottom:cr},Ie={left:-Ue,top:-Te,right:Se-Ue,bottom:te-Te},se=J.htmlRegion,Ce="visible",Je="visibleFirst";se!=="scroll"&&se!==Je&&(se=Ce);var K=se===Je,en=Xn(Ie,y),R=Xn(lr,y),kr=se===Ce?R:en,Qe=K?R:kr;b.style.left="auto",b.style.top="auto",b.style.right="0",b.style.bottom="0";var O=b.getBoundingClientRect();b.style.left=j,b.style.top=H,b.style.right=ve,b.style.bottom=re,b.style.overflow=qe,(P=b.parentElement)===null||P===void 0||P.removeChild(Z);var $e=xr(Math.round(Ne/parseFloat(z)*1e3)/1e3),De=xr(Math.round(oe/parseFloat(Y)*1e3)/1e3);if($e===0||De===0||Fn(r)&&!wt(r))return;var rn=J.offset,nn=J.targetOffset,Rr=Yn(D,rn),ge=T(Rr,2),ye=ge[0],fe=ge[1],tn=Yn(F,nn),Ze=T(tn,2),ce=Ze[0],Le=Ze[1];F.x-=ce,F.y-=Le;var an=J.points||[],Ar=T(an,2),un=Ar[0],on=Ar[1],Ee=et(on),ae=et(un),dr=sr(F,Ee),X=sr(D,ae),_e=q({},J),k=dr.x-X.x+ye,A=dr.y-X.y+fe,be=de(k,A),Ke=de(k,A,R),vr=sr(F,["t","l"]),le=sr(D,["t","l"]),Tr=sr(F,["b","r"]),mr=sr(D,["b","r"]),He=J.overflow||{},Ir=He.adjustX,sn=He.adjustY,hr=He.shiftX,rr=He.shiftY,gr=function(je){return typeof je=="boolean"?je:je>=0},Oe,Xe,ke,nr;Jr();var pe=gr(sn),$r=ae[0]===Ee[0];if(pe&&ae[0]==="t"&&(Xe>Qe.bottom||h.current.bt)){var U=A;$r?U-=oe-he:U=vr.y-mr.y-fe;var Lr=de(k,U),fn=de(k,U,R);Lr>be||Lr===be&&(!K||fn>=Ke)?(h.current.bt=!0,A=U,fe=-fe,_e.points=[We(ae,0),We(Ee,0)]):h.current.bt=!1}if(pe&&ae[0]==="b"&&(Oe<Qe.top||h.current.tb)){var Ye=A;$r?Ye+=oe-he:Ye=Tr.y-le.y-fe;var _r=de(k,Ye),cn=de(k,Ye,R);_r>be||_r===be&&(!K||cn>=Ke)?(h.current.tb=!0,A=Ye,fe=-fe,_e.points=[We(ae,0),We(Ee,0)]):h.current.tb=!1}var Hr=gr(Ir),jr=ae[1]===Ee[1];if(Hr&&ae[1]==="l"&&(nr>Qe.right||h.current.rl)){var er=k;jr?er-=Ne-ee:er=vr.x-mr.x-ye;var Vr=de(er,A),tr=de(er,A,R);Vr>be||Vr===be&&(!K||tr>=Ke)?(h.current.rl=!0,k=er,ye=-ye,_e.points=[We(ae,1),We(Ee,1)]):h.current.rl=!1}if(Hr&&ae[1]==="r"&&(ke<Qe.left||h.current.lr)){var Re=k;jr?Re+=Ne-ee:Re=Tr.x-le.x-ye;var Wr=de(Re,A),Br=de(Re,A,R);Wr>be||Wr===be&&(!K||Br>=Ke)?(h.current.lr=!0,k=Re,ye=-ye,_e.points=[We(ae,1),We(Ee,1)]):h.current.lr=!1}Jr();var Me=hr===!0?0:hr;typeof Me=="number"&&(ke<R.left&&(k-=ke-R.left-ye,F.x+ee<R.left+Me&&(k+=F.x-R.left+ee-Me)),nr>R.right&&(k-=nr-R.right-ye,F.x>R.right-Me&&(k+=F.x-R.right+Me)));var we=rr===!0?0:rr;typeof we=="number"&&(Oe<R.top&&(A-=Oe-R.top-fe,F.y+he<R.top+we&&(A+=F.y-R.top+he-we)),Xe>R.bottom&&(A-=Xe-R.bottom-fe,F.y>R.bottom-we&&(A+=F.y-R.bottom+we)));var ar=D.x+k,ir=ar+Ne,Pe=D.y+A,ln=Pe+oe,zr=F.x,dn=zr+ee,yr=F.y,vn=yr+he,mn=Math.max(ar,zr),hn=Math.min(ir,dn),Gr=(mn+hn)/2,gn=Gr-ar,yn=Math.max(Pe,yr),Ur=Math.min(ln,vn),bn=(yn+Ur)/2,wn=bn-Pe;u==null||u(e,_e);var br=O.right-D.x-(k+D.width),xe=O.bottom-D.y-(A+D.height);$e===1&&(k=Math.round(k),br=Math.round(br)),De===1&&(A=Math.round(A),xe=Math.round(xe));var Sn={ready:!0,offsetX:k/$e,offsetY:A/De,offsetR:br/$e,offsetB:xe/De,arrowX:gn/$e,arrowY:wn/De,scaleX:$e,scaleY:De,align:_e};m(Sn)}}),f=function(){l.current+=1;var C=l.current;Promise.resolve().then(function(){l.current===C&&S()})},E=function(){m(function(C){return q(q({},C),{},{ready:!1})})};return p(E,[t]),p(function(){n||E()},[n]),[v.ready,v.offsetX,v.offsetY,v.offsetR,v.offsetB,v.arrowX,v.arrowY,v.scaleX,v.scaleY,v.align,f]}function ba(n,e,r,t,a){p(function(){if(n&&e&&r){let l=function(){t(),a()};var i=e,u=r,o=An(i),d=An(u),v=Dr(u),m=new Set([v].concat(Ae(o),Ae(d)));return m.forEach(function(y){y.addEventListener("scroll",l,{passive:!0})}),v.addEventListener("resize",l,{passive:!0}),t(),function(){m.forEach(function(y){y.removeEventListener("scroll",l),v.removeEventListener("resize",l)})}}},[n,e,r])}function wa(n,e,r,t,a,i,u,o){var d=s.useRef(n);d.current=n;var v=s.useRef(!1);s.useEffect(function(){if(e&&t&&(!a||i)){var l=function(){v.current=!1},y=function(f){var E;d.current&&!u(((E=f.composedPath)===null||E===void 0||(E=E.call(f))===null||E===void 0?void 0:E[0])||f.target)&&!v.current&&o(!1)},h=Dr(t);h.addEventListener("pointerdown",l,!0),h.addEventListener("mousedown",y,!0),h.addEventListener("contextmenu",y,!0);var c=qn(r);return c&&(c.addEventListener("mousedown",y,!0),c.addEventListener("contextmenu",y,!0)),function(){h.removeEventListener("pointerdown",l,!0),h.removeEventListener("mousedown",y,!0),h.removeEventListener("contextmenu",y,!0),c&&(c.removeEventListener("mousedown",y,!0),c.removeEventListener("contextmenu",y,!0))}}},[e,r,t,a,i]);function m(){v.current=!0}return m}var Sa=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Na(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ft,e=s.forwardRef(function(r,t){var a=r.prefixCls,i=a===void 0?"rc-trigger-popup":a,u=r.children,o=r.action,d=o===void 0?"hover":o,v=r.showAction,m=r.hideAction,l=r.popupVisible,y=r.defaultPopupVisible,h=r.onPopupVisibleChange,c=r.afterPopupVisibleChange,S=r.mouseEnterDelay,f=r.mouseLeaveDelay,E=f===void 0?.1:f,N=r.focusDelay,C=r.blurDelay,x=r.mask,P=r.maskClosable,b=P===void 0?!0:P,I=r.getPopupContainer,B=r.forceRender,_=r.autoDestroy,z=r.destroyPopupOnHide,Y=r.popup,ue=r.popupClassName,j=r.popupStyle,H=r.popupPlacement,ve=r.builtinPlacements,re=ve===void 0?{}:ve,qe=r.popupAlign,J=r.zIndex,Z=r.stretch,F=r.getPopupClassNameFromAlign,ze=r.fresh,me=r.alignPoint,Q=r.onPopupClick,D=r.onPopupAlign,ne=r.arrow,Ge=r.popupMotion,cr=r.maskMotion,Se=r.popupTransitionName,te=r.popupAnimation,Te=r.maskTransitionName,Ue=r.maskAnimation,oe=r.className,Ne=r.getTriggerDOMNode,he=In(r,Sa),ee=_||z||!1,lr=s.useState(!1),Ie=T(lr,2),se=Ie[0],Ce=Ie[1];p(function(){Ce(St())},[]);var Je=s.useRef({}),K=s.useContext(Zn),en=s.useMemo(function(){return{registerSubPopup:function(w,$){Je.current[w]=$,K==null||K.registerSubPopup(w,$)}}},[K]),R=Nt(),kr=s.useState(null),Qe=T(kr,2),O=Qe[0],$e=Qe[1],De=s.useRef(null),rn=Be(function(g){De.current=g,Fn(g)&&O!==g&&$e(g),K==null||K.registerSubPopup(R,g)}),nn=s.useState(null),Rr=T(nn,2),ge=Rr[0],ye=Rr[1],fe=s.useRef(null),tn=Be(function(g){Fn(g)&&ge!==g&&(ye(g),fe.current=g)}),Ze=s.Children.only(u),ce=(Ze==null?void 0:Ze.props)||{},Le={},an=Be(function(g){var w,$,V=ge;return(V==null?void 0:V.contains(g))||((w=qn(V))===null||w===void 0?void 0:w.host)===g||g===V||(O==null?void 0:O.contains(g))||(($=qn(O))===null||$===void 0?void 0:$.host)===g||g===O||Object.values(Je.current).some(function(L){return(L==null?void 0:L.contains(g))||g===L})}),Ar=On(i,Ge,te,Se),un=On(i,cr,Ue,Te),on=s.useState(y||!1),Ee=T(on,2),ae=Ee[0],dr=Ee[1],X=l??ae,_e=Be(function(g){l===void 0&&dr(g)});p(function(){dr(l||!1)},[l]);var k=s.useRef(X);k.current=X;var A=s.useRef([]);A.current=[];var be=Be(function(g){var w;_e(g),((w=A.current[A.current.length-1])!==null&&w!==void 0?w:X)!==g&&(A.current.push(g),h==null||h(g))}),Ke=s.useRef(),vr=function(){clearTimeout(Ke.current)},le=function(w){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;vr(),$===0?be(w):Ke.current=setTimeout(function(){be(w)},$*1e3)};s.useEffect(function(){return vr},[]);var Tr=s.useState(!1),mr=T(Tr,2),He=mr[0],Ir=mr[1];p(function(g){(!g||X)&&Ir(!0)},[X]);var sn=s.useState(null),hr=T(sn,2),rr=hr[0],gr=hr[1],Oe=s.useState(null),Xe=T(Oe,2),ke=Xe[0],nr=Xe[1],pe=function(w){nr([w.clientX,w.clientY])},$r=ya(X,O,me&&ke!==null?ke:ge,H,re,qe,D),U=T($r,11),Lr=U[0],fn=U[1],Ye=U[2],_r=U[3],cn=U[4],Hr=U[5],jr=U[6],er=U[7],Vr=U[8],tr=U[9],Re=U[10],Wr=ma(se,d,v,m),Br=T(Wr,2),Me=Br[0],we=Br[1],ar=Me.has("click"),ir=we.has("click")||we.has("contextMenu"),Pe=Be(function(){He||Re()}),ln=function(){k.current&&me&&ir&&le(!1)};ba(X,ge,O,Pe,ln),p(function(){Pe()},[ke,H]),p(function(){X&&!(re!=null&&re[H])&&Pe()},[JSON.stringify(qe)]);var zr=s.useMemo(function(){var g=ga(re,i,tr,me);return fr(g,F==null?void 0:F(tr))},[tr,F,re,i,me]);s.useImperativeHandle(t,function(){return{nativeElement:fe.current,popupElement:De.current,forceAlign:Pe}});var dn=s.useState(0),yr=T(dn,2),vn=yr[0],mn=yr[1],hn=s.useState(0),Gr=T(hn,2),gn=Gr[0],yn=Gr[1],Ur=function(){if(Z&&ge){var w=ge.getBoundingClientRect();mn(w.width),yn(w.height)}},bn=function(){Ur(),Pe()},wn=function(w){Ir(!1),Re(),c==null||c(w)},br=function(){return new Promise(function(w){Ur(),gr(function(){return w})})};p(function(){rr&&(Re(),rr(),gr(null))},[rr]);function xe(g,w,$,V){Le[g]=function(L){var Zr;V==null||V(L),le(w,$);for(var Mn=arguments.length,Ln=new Array(Mn>1?Mn-1:0),Kr=1;Kr<Mn;Kr++)Ln[Kr-1]=arguments[Kr];(Zr=ce[g])===null||Zr===void 0||Zr.call.apply(Zr,[ce,L].concat(Ln))}}(ar||ir)&&(Le.onClick=function(g){var w;k.current&&ir?le(!1):!k.current&&ar&&(pe(g),le(!0));for(var $=arguments.length,V=new Array($>1?$-1:0),L=1;L<$;L++)V[L-1]=arguments[L];(w=ce.onClick)===null||w===void 0||w.call.apply(w,[ce,g].concat(V))});var Sn=wa(X,ir,ge,O,x,b,an,le),de=Me.has("hover"),Jr=we.has("hover"),ur,je;de&&(xe("onMouseEnter",!0,S,function(g){pe(g)}),xe("onPointerEnter",!0,S,function(g){pe(g)}),ur=function(w){(X||He)&&O!==null&&O!==void 0&&O.contains(w.target)&&le(!0,S)},me&&(Le.onMouseMove=function(g){var w;(w=ce.onMouseMove)===null||w===void 0||w.call(ce,g)})),Jr&&(xe("onMouseLeave",!1,E),xe("onPointerLeave",!1,E),je=function(){le(!1,E)}),Me.has("focus")&&xe("onFocus",!0,N),we.has("focus")&&xe("onBlur",!1,C),Me.has("contextMenu")&&(Le.onContextMenu=function(g){var w;k.current&&we.has("contextMenu")?le(!1):(pe(g),le(!0)),g.preventDefault();for(var $=arguments.length,V=new Array($>1?$-1:0),L=1;L<$;L++)V[L-1]=arguments[L];(w=ce.onContextMenu)===null||w===void 0||w.call.apply(w,[ce,g].concat(V))}),oe&&(Le.className=fr(ce.className,oe));var Ve=q(q({},ce),Le),wr={},Qr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Qr.forEach(function(g){he[g]&&(wr[g]=function(){for(var w,$=arguments.length,V=new Array($),L=0;L<$;L++)V[L]=arguments[L];(w=Ve[g])===null||w===void 0||w.call.apply(w,[Ve].concat(V)),he[g].apply(he,V)})});var Nn=s.cloneElement(Ze,q(q({},Ve),wr)),Cn={x:Hr,y:jr},En=ne?q({},ne!==!0?ne:{}):null;return s.createElement(s.Fragment,null,s.createElement(ut,{disabled:!X,ref:tn,onResize:bn},s.createElement(va,{getTriggerDOMNode:Ne},Nn)),s.createElement(Zn.Provider,{value:en},s.createElement(da,{portal:n,ref:rn,prefixCls:i,popup:Y,className:fr(ue,zr),style:j,target:ge,onMouseEnter:ur,onMouseLeave:je,onPointerEnter:ur,zIndex:J,open:X,keepDom:He,fresh:ze,onClick:Q,onPointerDownCapture:Sn,mask:x,motion:Ar,maskMotion:un,onVisibleChanged:wn,onPrepare:br,forceRender:B,autoDestroy:ee,getPopupContainer:I,align:tr,arrow:En,arrowPos:Cn,ready:Lr,offsetX:fn,offsetY:Ye,offsetR:_r,offsetB:cn,onAlign:Pe,stretch:Z,targetWidth:vn/er,targetHeight:gn/Vr})))});return e}const Ia=Na(ft);function Tn(){return typeof BigInt=="function"}function lt(n){return!n&&n!==0&&!Number.isNaN(n)||!String(n).trim()}function Pr(n){var e=n.trim(),r=e.startsWith("-");r&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var t=e||"0",a=t.split("."),i=a[0]||"0",u=a[1]||"0";i==="0"&&u==="0"&&(r=!1);var o=r?"-":"";return{negative:r,negativeStr:o,trimStr:t,integerStr:i,decimalStr:u,fullStr:"".concat(o).concat(t)}}function $n(n){var e=String(n);return!Number.isNaN(Number(e))&&e.includes("e")}function Cr(n){var e=String(n);if($n(n)){var r=Number(e.slice(e.indexOf("e-")+2)),t=e.match(/\.(\d+)/);return t!=null&&t[1]&&(r+=t[1].length),r}return e.includes(".")&&vt(e)?e.length-e.indexOf(".")-1:0}function dt(n){var e=String(n);if($n(n)){if(n>Number.MAX_SAFE_INTEGER)return String(Tn()?BigInt(n).toString():Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return String(Tn()?BigInt(n).toString():Number.MIN_SAFE_INTEGER);e=n.toFixed(Cr(e))}return Pr(e).fullStr}function vt(n){return typeof n=="number"?!Number.isNaN(n):n?/^\s*-?\d+(\.\d+)?\s*$/.test(n)||/^\s*-?\d+\.\s*$/.test(n)||/^\s*-?\.\d+\s*$/.test(n):!1}var Ca=function(){function n(e){if(Fr(this,n),G(this,"origin",""),G(this,"negative",void 0),G(this,"integer",void 0),G(this,"decimal",void 0),G(this,"decimalLen",void 0),G(this,"empty",void 0),G(this,"nan",void 0),lt(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var r=e;if($n(r)&&(r=Number(r)),r=typeof r=="string"?r:dt(r),vt(r)){var t=Pr(r);this.negative=t.negative;var a=t.trimStr.split(".");this.integer=BigInt(a[0]);var i=a[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return qr(n,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(r){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(r,"0"));return BigInt(t)}},{key:"negate",value:function(){var r=new n(this.toString());return r.negative=!r.negative,r}},{key:"cal",value:function(r,t,a){var i=Math.max(this.getDecimalStr().length,r.getDecimalStr().length),u=this.alignDecimal(i),o=r.alignDecimal(i),d=t(u,o).toString(),v=a(i),m=Pr(d),l=m.negativeStr,y=m.trimStr,h="".concat(l).concat(y.padStart(v+1,"0"));return new n("".concat(h.slice(0,-v),".").concat(h.slice(-v)))}},{key:"add",value:function(r){if(this.isInvalidate())return new n(r);var t=new n(r);return t.isInvalidate()?this:this.cal(t,function(a,i){return a+i},function(a){return a})}},{key:"multi",value:function(r){var t=new n(r);return this.isInvalidate()||t.isInvalidate()?new n(NaN):this.cal(t,function(a,i){return a*i},function(a){return a*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toString()===(r==null?void 0:r.toString())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":Pr("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),n}(),Ea=function(){function n(e){if(Fr(this,n),G(this,"origin",""),G(this,"number",void 0),G(this,"empty",void 0),lt(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return qr(n,[{key:"negate",value:function(){return new n(-this.toNumber())}},{key:"add",value:function(r){if(this.isInvalidate())return new n(r);var t=Number(r);if(Number.isNaN(t))return this;var a=this.number+t;if(a>Number.MAX_SAFE_INTEGER)return new n(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new n(Number.MIN_SAFE_INTEGER);var i=Math.max(Cr(this.number),Cr(t));return new n(a.toFixed(i))}},{key:"multi",value:function(r){var t=Number(r);if(this.isInvalidate()||Number.isNaN(t))return new n(NaN);var a=this.number*t;if(a>Number.MAX_SAFE_INTEGER)return new n(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new n(Number.MIN_SAFE_INTEGER);var i=Math.max(Cr(this.number),Cr(t));return new n(a.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toNumber()===(r==null?void 0:r.toNumber())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":dt(this.number):this.origin}}]),n}();function Ma(n){return Tn()?new Ca(n):new Ea(n)}function Pa(n,e,r){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(n==="")return"";var a=Pr(n),i=a.negativeStr,u=a.integerStr,o=a.decimalStr,d="".concat(e).concat(o),v="".concat(i).concat(u);if(r>=0){var m=Number(o[r]);if(m>=5&&!t){var l=Ma(n).add("".concat(i,"0.").concat("0".repeat(r)).concat(10-m));return Pa(l.toString(),e,r,t)}return r===0?v:"".concat(v).concat(e).concat(o.padEnd(r,"0").slice(0,r))}return d===".0"?v:"".concat(v).concat(d)}function $a(n){var e=s.createContext(void 0),r=function(a){var i=a.value,u=a.children,o=s.useRef(i);o.current=i;var d=s.useState(function(){return{getValue:function(){return o.current},listeners:new Set}}),v=T(d,1),m=v[0];return p(function(){it.unstable_batchedUpdates(function(){m.listeners.forEach(function(l){l(i)})})},[i]),s.createElement(e.Provider,{value:m},u)};return{Context:e,Provider:r,defaultValue:n}}function La(n,e){var r=Be(typeof e=="function"?e:function(l){if(e===void 0)return l;if(!Array.isArray(e))return l[e];var y={};return e.forEach(function(h){y[h]=l[h]}),y}),t=s.useContext(n==null?void 0:n.Context),a=t||{},i=a.listeners,u=a.getValue,o=s.useRef();o.current=r(t?u():n==null?void 0:n.defaultValue);var d=s.useState({}),v=T(d,2),m=v[1];return p(function(){if(!t)return;function l(y){var h=r(y);Ct(o.current,h,!0)||m({})}return i.add(l),function(){i.delete(l)}},[t]),o.current}function _a(){var n=s.createContext(null);function e(){return s.useContext(n)}function r(a,i){var u=pr(a),o=function(v,m){var l=u?{ref:m}:{},y=s.useRef(0),h=s.useRef(v),c=e();return c!==null?s.createElement(a,Er({},v,l)):((!i||i(h.current,v))&&(y.current+=1),h.current=v,s.createElement(n.Provider,{value:y.current},s.createElement(a,Er({},v,l))))};return u?s.forwardRef(o):o}function t(a,i){var u=pr(a),o=function(v,m){var l=u?{ref:m}:{};return e(),s.createElement(a,Er({},v,l))};return u?s.memo(s.forwardRef(o),i):s.memo(o,i)}return{makeImmutable:r,responseImmutable:t,useImmutableMark:e}}export{jn as C,ft as P,Yr as S,Ia as T,Cr as a,Pa as b,_a as c,$a as d,Ma as g,dt as n,Pr as t,La as u,vt as v};
